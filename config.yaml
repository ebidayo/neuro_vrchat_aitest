# --- Personality / Opinion / Debate ---
personality:
  opinion:
    enabled: false
    alpha: 0.01
  debate:
    enabled: false
    hesitation:
      enabled: true
      prob: 0.20
# --- Emergency / Disaster Mode ---
emergency:
  enabled: false
  cooldown_sec: 10.0
  beep_wav_path: "assets/beep.wav"
  force_language_ja: true
  active_hold_sec: 10.0
# --- STT Self-Address Detection ---
stt:
  self_address:
    enabled: true
    name_aliases:
      - "美空"
      - "みそら"
      - "ミソラ"
      - "misora"
      - "sora"
      - "miso"
      - "mira"
      - "miku"
# --- Learned Alias (Nickname) System ---
    learned_alias:
      enabled: false
      min_len: 2
      max_len: 8
      init_weight: 0.10
      inc_weight: 0.10
      promote_threshold: 0.60
      decay_tau_sec: 604800          # 7 days
      max_entries: 64
      ttl_context_sec: 300           # 5 min "addressed context" window
      forbid_tokens: ["政治","選挙","宗教","差別","殺","死ね","障害","バカ"]
      allow_latin: true
      allow_kana: true
      allow_kanji: false             # avoid accidental pickups; can be enabled later
      debug: false

# --- Storage for Learned Alias DB ---
storage:
  learned_alias_db:
    enabled: false
    path: "data/learned_alias.sqlite"
# --- TTS (Style-BERT-VITS2) ---
tts:
  enabled: false
  engine: "style_bert_vits2"
  prefetch: false
  debug_dump_wav: false
# Example config for Phase1 (v1.2 expectations)

# --- OSC face sensitivity presets ---
# 控えめ（リアル寄り・落ち着いた表情）
# osc:
#   face_interest_gain: 0.30
#   face_interest_max:  0.55

# 標準（おすすめ）
osc:
  face_interest_gain: 0.35
  face_interest_max:  0.60
  ip: "127.0.0.1"
  port: 9000
  parameter_prefix: "/avatar/parameters"
  max_hz: 10

# アニメ寄り（表情が分かりやすい）
# osc:
#   face_interest_gain: 0.40
#   face_interest_max:  0.65

mode: debug

params:
  state: "Emotion"        # int (Shinano Emotion)
  gesture: "Face"         # int (Shinano Face expression)
  look_x: "LookX"         # float (-1..1)
  look_y: "LookY"         # float (-1..1)
  arousal: "TalkSpeed"    # float (0..1)
  valence: "Mood"         # float (-1..1)
  glitch: "Blink"         # float (0..1)

timeouts:
  alert_to_search_delay: 3.0
  search_timeout: 8.0
  search_max_duration: 30.0
  talk_silence_timeout: 30.0
  error_recover_time: 5.0

cache:
  news_ttl_seconds: 3600   # 1 hour
  tech_ttl_seconds: 14400  # 4 hours
  deep_ttl_seconds: 86400  # 24 hours

starter:
  idle_sec: 10
  cooldown_sec: 20
  reply_window_sec: 20
  starters:
    - "あの、ちょっといいですか？"
    - "ねえ、ちょっと聞いていい？"
    - "すみません、ちょっと話してもいいですか？"

# Optional user location for geo-based tsunami distance estimates
user_location:
  label: "Tokyo (assumed)"
  lat: 35.681236
  lon: 139.767125
  # coast_distance_km: null  # override with a known distance to the coast if desired

